# Data Model

## Requirements (需求分析)

- 一個賣場 `Store` 可以上架多件商品 `Products`，可販售產品視為現貨商品 `Item`。
- 一件商品 `Product` 可以在多個賣場 `Stores` 販售，賣場包含實體商店與網路平台。
- 每件商品 `Product` 包含商品名稱 `title`、定價 `price`、樣式顏色 `styles`、展示圖片 `images`、及顧客按讚數 `Likes`。
- 每個賣場 `Store` 會發行 (`issue`) 自己的折價券 `Coupon`。
- 顧客 `Consumer` 可以使用 (`use`) 賣場折價券，對購買現貨商品定價進行折扣。
- 顧客 `Consumer` 可以對賣場 `Store` 下訂單 `Item`。
- 訂單 `Order` 會紀錄所購買的現貨商品 `Item` 明細，且每件現貨可以單獨使用賣場折價券 `Coupon`。

## Data Modeling (資料塑模)

此為概念設計，產出 `ER Model`。

![ER Model](./model.png)

註：

- 資料模型係將真實世界按著需求抽象化塑模而成，概念型模型較不需包含實體欄位細節 (非關注點)。
- 假如概念設計階段有設計好，理論上既已符合 `3NF` 正規化，倒是設計出來後可能會切得過細，應視需要 `反正規化`。
- 內部使用到實體關係圖 (長方形 + 菱形)，表達其既是實體 `Entity` 又是關係 `Relationship`，其可表現實體關係建立的先後順序，例如無賣場或無顧客任一，則必定無法下訂單，且訂單無法憑空產生，故其表達力較強，不需依賴弱實體。

## 邏輯設計與實體設計

- 邏輯設計詳 `ORM` (../model)。
- 實體設計由 `ORM` 直接操作資料庫，不特別處理。

## 具體驗證

建立 `instances` 具體驗證 (詳 `../main_test.go`)

註：實際使用需依賴 `GORM` 
